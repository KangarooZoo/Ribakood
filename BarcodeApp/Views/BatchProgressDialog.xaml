<Window x:Class="BarcodeApp.Views.BatchProgressDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:converters="clr-namespace:BarcodeApp.Converters"
        Title="Printing Batch" 
        Height="250" 
        Width="500"
        WindowStartupLocation="CenterOwner"
        WindowStyle="None"
        ResizeMode="NoResize"
        ShowInTaskbar="False"
        Foreground="{DynamicResource MaterialDesignBody}"
        FontSize="13"
        FontFamily="Segoe UI"
        Background="{DynamicResource MaterialDesignPaper}">
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/Resources/MaterialDesignStyles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <!-- Converters -->
            <converters:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
        </ResourceDictionary>
    </Window.Resources>
    <Grid Margin="24">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TextBlock Text="Printing Batch"
                   FontSize="20"
                   FontWeight="Bold"
                   Foreground="{DynamicResource MaterialDesignBody}"
                   Margin="0,0,0,16"/>

        <StackPanel Grid.Row="1" Margin="0,0,0,24">
            <TextBlock Text="{Binding Progress.Status}"
                       Foreground="{DynamicResource MaterialDesignBody}"
                       FontSize="14"
                       Margin="0,0,0,8"/>
            <TextBlock Text="{Binding Progress.CurrentItemData, StringFormat='Current: {0}'}"
                       Foreground="{DynamicResource MaterialDesignSecondaryTextBrush}"
                       FontSize="12"
                       Margin="0,0,0,16"/>
            <ProgressBar Value="{Binding Progress.ProgressPercentage}"
                        Maximum="100"
                        Height="20"
                        Margin="0,0,0,8"/>
            <TextBlock Text="{Binding Progress, StringFormat='Item {0} of {1}'}"
                       Foreground="{DynamicResource MaterialDesignBody}"
                       FontSize="12"
                       HorizontalAlignment="Center"/>
        </StackPanel>

        <StackPanel Grid.Row="2" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Right">
            <Button Content="Cancel"
                    Command="{Binding CancelCommand}"
                    Style="{StaticResource MaterialDesignOutlinedButton}"
                    IsEnabled="{Binding IsPrinting}"/>
        </StackPanel>
    </Grid>
</Window>

